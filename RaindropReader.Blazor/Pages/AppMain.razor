@attribute [Route(Startup.AppRoute)]
@attribute [Route(Startup.AppItemRoute)]
@using RaindropReader.Shared.Services
@using RaindropReader.Shared.Components 

@inject ReaderService _readerService

@code {
    [Parameter]
    public string Item { get; set; }

    protected override void OnInitialized()
    {
        if (!string.IsNullOrWhiteSpace(Item))
        {
            _readerService.HandleItemRoute(Item);
        }
    }

    protected override Task OnAfterRenderAsync(bool firstRender)
    {
        if (!firstRender)
        {
            return Task.CompletedTask;
        }
        return _readerService.InitJsAsync();
    }
}

<MainViewComponent />
